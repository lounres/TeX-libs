\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{solutions}[09.2020 Lightweigth framework for writing solutions of listed problems.]

\RequirePackage{frequent-stuff}

\newtheorem{theorem}{Теорема}
\newtheorem{lemma}[theorem]{Лемма}
\newtheorem{corollary}{Следствие}[theorem]

\theoremstyle{definition}
\newtheorem{prb}{Задача}
\newenvironment{problem}[1]{
    \setcounter{prb}{#1}
    \addtocounter{prb}{-1}
    \begin{prb}
}{
    \end{prb}
    \NormalizeEnumerate
    \breaker
}
\newtheorem{enumprb}{Задача}
\newenvironment{enumproblem}{
    \begin{enumprb}
}{
    \end{enumprb}
    \NormalizeEnumerate
    \breaker
}
\newtheorem{definition}{Определение}

\theoremstyle{remark}
\newtheorem{remark}{Замечание}
\newtheorem*{remark*}{Замечание}

\newcommand{\breaker}{\noindent\makebox[\linewidth]{\rule{\textwidth}{0.4pt}}}

\newcommand{\NormalizeEnumerate}{
    \renewcommand{\theenumi}{\arabic{enumi}}
    \renewcommand{\labelenumi}{\theenumi.}
    \renewcommand{\theenumii}{\asbuk{enumii}}
    \renewcommand{\labelenumii}{(\theenumii)}
    \renewcommand{\theenumiii}{\roman{enumiii}}
    \renewcommand{\labelenumiii}{\theenumiii.}
    \renewcommand{\theenumiv}{\Asbuk{enumiv}}
    \renewcommand{\labelenumiv}{\theenumiv.}
}

\newcommand{\ItemedProblem}{
    \renewcommand{\theenumi}{\asbuk{enumi}}
    \renewcommand{\labelenumi}{\theenumi)}
    \renewcommand{\theenumii}{\arabic{enumii}}
    \renewcommand{\labelenumii}{\theenumii.}
    \renewcommand{\theenumiii}{\roman{enumiii}}
    \renewcommand{\labelenumiii}{\theenumiii.}
    \renewcommand{\theenumiv}{\Asbuk{enumiv}}
    \renewcommand{\labelenumiv}{\theenumiv.}
}